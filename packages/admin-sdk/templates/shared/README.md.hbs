# {{projectName}} Platform

Cost protection and monitoring infrastructure powered by [Platform SDK](https://github.com/littlebearapps/platform-sdks).

## Setup

**Tier**: {{tier}}

### 1. Create Cloudflare Resources

```bash
npx wrangler d1 create {{projectSlug}}-metrics
npx wrangler kv namespace create PLATFORM_CACHE
npx wrangler queues create {{projectSlug}}-telemetry
npx wrangler queues create {{projectSlug}}-telemetry-dlq
```

### 2. Update Wrangler Configs

Replace `YOUR_*_ID` placeholders in `wrangler.*.jsonc` with the IDs from step 1.

### 3. Run Migrations

```bash
npx wrangler d1 migrations apply {{projectSlug}}-metrics --remote
```

### 4. Sync Config

```bash
npm run sync:config
```

### 5. Deploy

```bash
npx wrangler deploy -c wrangler.{{projectSlug}}-usage.jsonc
```

### 6. Install SDK in Consumer Projects

```bash
npm install @littlebearapps/platform-consumer-sdk
```

## Architecture

```
Consumer Projects
    |
    | SDK telemetry (via queue)
    v
{{projectSlug}}-usage (cron + queue consumer)
    |
    v
D1 Warehouse + KV Cache + Analytics Engine
```

## Configuration

- `platform/config/services.yaml` — Project and feature registry
- `platform/config/budgets.yaml` — Limits, thresholds, circuit breakers

After editing config, run `npm run sync:config` to sync to D1/KV.

## Resources

- [Platform SDK Documentation](https://github.com/littlebearapps/platform-sdks)
- [Cloudflare Workers Pricing](https://developers.cloudflare.com/workers/platform/pricing/)
